### <span style="color:darkgoldenrod"> Update single document using findAndModify() monogsh method

findAndModify = updateOne + findOne и гарантира,че ще върне директния резултат от update операцията,докато между updateOne последван от findOne друг thread може да модифицира документа и да получим неочаквана стойност въпреки успешния update

findAndModify() модифицира максимум 1 документ

### Syntax:

    db.collection.findAndModify({
        query: <document>,      //selection criteria
        sort: <document>,
        remove: <boolean>,
        update: <document or aggregation pipeline>,
        new: <boolean>,
        fields: <document>,
        upsert: <boolean>,
        bypassDocumentValidation: <boolean>,
        writeConcern: <document>,
        maxTimeMS: <integer>,
        collation: <document>,
        arrayFilters: [ <filterdocument1>, ... ],
        let: <document> // Added in MongoDB 5.0
    });

    db.podcasts.findAndModify({
        query: { _id: ObjectId("6261a92dfee1ff300dc80bf1") },
        update: { $inc: { subscribers: 1 } },
        new: true, //when true returns the updated document rather than the original,default is false
    })

Пример:
Ако не съществува документ с посочения zip той ще бъде създаден заради upsert:true и ще бъдат върнат в терминала заради
new:true .При липсата на new в терминала щеше да бъде върната оригиналната стойност на документа, която е null.

    db.zips.findAndModify({
        query: { zip: 87571 },
        update: { $set: { city: "TAOS", state: "NM", pop: 40000 } },
        upsert: true,
        new: true,
    })